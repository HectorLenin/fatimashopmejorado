<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Faloliz - Perfumería Elegante</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <style>
        :root {
            --primary: #8B5FBF;
            --secondary: #FFD700;
            --accent: #2C1A4D;
            --light: #F8F4FF;
            --dark: #1A0B2E;
            --success: #4CAF50;
            --danger: #F44336;
            --warning: #FF9800;
            --gray: #6c757d;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            --subtitle-color: #2C1A4D;
            --subtitle-bg-color: rgba(139, 95, 191, 0.1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--light);
            color: var(--dark);
            line-height: 1.6;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Header */
        header {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            padding: 15px 0;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo i, .logo-img {
            font-size: 28px;
            color: var(--secondary);
        }
        
        .logo-img {
            width: 32px;
            height: 32px;
            object-fit: contain;
        }
        
        .logo h1 {
            font-size: 24px;
            font-weight: 700;
        }
        
        .nav-links {
            display: flex;
            gap: 25px;
        }
        
        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .nav-links a:hover {
            color: var(--secondary);
        }
        
        .cart-icon {
            position: relative;
        }
        
        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background-color: var(--secondary);
            color: var(--dark);
            border-radius: 50%;
            width: 18px;
            height: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }
        
        /* Mobile Menu */
        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
        }
        
        .mobile-nav {
            display: none;
            flex-direction: column;
            background-color: var(--accent);
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            padding: 20px;
            box-shadow: var(--shadow);
            z-index: 99;
        }
        
        .mobile-nav.active {
            display: flex;
        }
        
        .mobile-nav a {
            color: white;
            text-decoration: none;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .mobile-nav a:last-child {
            border-bottom: none;
        }
        
        /* Hero Section */
        .hero {
            background: linear-gradient(rgba(43, 21, 77, 0.8), rgba(43, 21, 77, 0.8)), url('https://images.unsplash.com/photo-1544468266-6a8948001c78?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 80px 0;
            text-align: center;
        }
        
        .hero h2 {
            font-size: 42px;
            margin-bottom: 20px;
        }
        
        .hero p {
            font-size: 18px;
            max-width: 700px;
            margin: 0 auto 30px;
            color: var(--subtitle-color);
            background-color: var(--subtitle-bg-color);
            padding: 10px 20px;
            border-radius: 8px;
            display: inline-block;
        }
        
        .btn {
            display: inline-block;
            padding: 12px 28px;
            background-color: var(--secondary);
            color: var(--dark);
            border: none;
            border-radius: 30px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
        }
        
        .btn:hover {
            background-color: #ffed4e;
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
        }
        
        .btn-primary {
            background-color: var(--primary);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #7a4ca8;
        }
        
        /* Products Section */
        .products-section {
            padding: 60px 0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 40px;
            color: var(--accent);
        }
        
        .section-title h2 {
            font-size: 32px;
            margin-bottom: 10px;
        }
        
        .section-title p {
            color: var(--gray);
            max-width: 600px;
            margin: 0 auto;
        }
        
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
        }
        
        .product-card {
            background-color: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }
        
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
        }
        
        .product-image {
            height: 220px;
            width: 100%;
            object-fit: cover;
        }
        
        .product-info {
            padding: 20px;
        }
        
        .product-info h3 {
            font-size: 18px;
            margin-bottom: 8px;
            color: var(--accent);
        }
        
        .product-brand {
            color: var(--primary);
            font-weight: 500;
            margin-bottom: 10px;
            font-size: 14px;
        }
        
        .product-description {
            color: var(--gray);
            font-size: 14px;
            margin-bottom: 15px;
            line-height: 1.5;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .product-price {
            font-size: 20px;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 15px;
        }
        
        .product-actions {
            display: flex;
            gap: 10px;
        }
        
        .btn-small {
            padding: 8px 15px;
            font-size: 14px;
        }
        
        /* Cart Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background-color: white;
            border-radius: 12px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            padding: 30px;
            position: relative;
        }
        
        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            color: var(--gray);
        }
        
        .cart-items {
            margin: 20px 0;
        }
        
        .cart-item {
            display: flex;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #eee;
        }
        
        .cart-item-image {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 8px;
            margin-right: 15px;
        }
        
        .cart-item-details {
            flex: 1;
        }
        
        .cart-item-name {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .cart-item-price {
            color: var(--primary);
            font-weight: 600;
        }
        
        .cart-item-quantity {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 8px;
        }
        
        .quantity-btn {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: var(--light);
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }
        
        .remove-item {
            background: none;
            border: none;
            color: var(--danger);
            cursor: pointer;
            font-size: 16px;
            margin-left: 10px;
        }
        
        .cart-total {
            display: flex;
            justify-content: space-between;
            font-size: 20px;
            font-weight: 700;
            margin: 20px 0;
            padding-top: 20px;
            border-top: 2px solid #eee;
        }
        
        /* Checkout Form */
        .checkout-form {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
        }
        
        .payment-methods {
            margin: 20px 0;
        }
        
        .payment-option {
            margin-bottom: 15px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .payment-option.selected {
            border-color: var(--primary);
            background-color: rgba(139, 95, 191, 0.05);
        }
        
        .payment-option h4 {
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .bank-details {
            margin-top: 15px;
            padding: 15px;
            background-color: var(--light);
            border-radius: 8px;
            display: none;
        }
        
        .customer-bank-info {
            margin-top: 15px;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid var(--primary);
        }
        
        .customer-bank-selection {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 10px;
        }
        
        /* Admin Panel */
        .admin-panel {
            padding: 40px 0;
        }
        
        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }
        
        .admin-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 1px solid #ddd;
        }
        
        .admin-tab {
            padding: 10px 20px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 16px;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }
        
        .admin-tab:hover {
            background-color: rgba(139, 95, 191, 0.1);
        }
        
        .admin-tab.active {
            border-bottom-color: var(--primary);
            color: var(--primary);
            font-weight: 600;
            background-color: rgba(139, 95, 191, 0.05);
        }
        
        .admin-actions {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .admin-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        .admin-table th, .admin-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        .admin-table th {
            background-color: var(--light);
            color: var(--accent);
            font-weight: 600;
        }
        
        .admin-table img {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: 8px;
        }
        
        .action-buttons {
            display: flex;
            gap: 10px;
        }
        
        .btn-edit {
            background-color: var(--warning);
            color: white;
        }
        
        .btn-delete {
            background-color: var(--danger);
            color: white;
        }
        
        /* Login Form */
        .login-form {
            max-width: 400px;
            margin: 50px auto;
            padding: 30px;
            background-color: white;
            border-radius: 12px;
            box-shadow: var(--shadow);
        }
        
        .login-form h2 {
            text-align: center;
            margin-bottom: 25px;
            color: var(--accent);
        }
        
        .forgot-password {
            text-align: center;
            margin-top: 15px;
        }
        
        .forgot-password a {
            color: var(--primary);
            text-decoration: none;
        }
        
        .forgot-password a:hover {
            text-decoration: underline;
        }
        
        /* Footer */
        footer {
            background-color: var(--accent);
            color: white;
            padding: 50px 0 20px;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .footer-column h3 {
            font-size: 18px;
            margin-bottom: 20px;
            color: var(--secondary);
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 10px;
        }
        
        .footer-links a {
            color: #ddd;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .footer-links a:hover {
            color: var(--secondary);
        }
        
        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 15px;
        }
        
        .social-links a {
            color: white;
            font-size: 20px;
            transition: color 0.3s;
        }
        
        .social-links a:hover {
            color: var(--secondary);
        }
        
        .footer-bottom {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #aaa;
            font-size: 14px;
        }
        
        /* Configuración */
        .config-section {
            display: none;
        }
        
        .config-section.active {
            display: block;
        }
        
        .config-form {
            max-width: 600px;
        }
        
        .config-group {
            margin-bottom: 20px;
            padding: 20px;
            background-color: white;
            border-radius: 8px;
            box-shadow: var(--shadow);
        }
        
        .config-group h3 {
            margin-bottom: 15px;
            color: var(--accent);
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        
        .bank-accounts-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        
        .bank-accounts-table th, .bank-accounts-table td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        .bank-accounts-table th {
            background-color: var(--light);
            font-weight: 600;
        }
        
        .bank-account-input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        /* Color Picker Styles */
        .color-picker-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 10px;
        }
        
        .color-option {
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            border: 2px solid transparent;
            transition: all 0.3s;
        }
        
        .color-option:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .color-option.selected {
            border-color: #333;
        }
        
        .color-preview {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin: 0 auto 8px;
            border: 2px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        /* Product Detail Modal */
        .product-detail-modal .modal-content {
            max-width: 900px;
        }
        
        .product-detail {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            align-items: start;
        }
        
        .product-detail-image {
            width: 100%;
            border-radius: 12px;
            box-shadow: var(--shadow);
        }
        
        .product-detail-info h2 {
            color: var(--accent);
            margin-bottom: 10px;
            font-size: 28px;
        }
        
        .product-detail-brand {
            color: var(--primary);
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
        }
        
        .product-detail-price {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 20px;
        }
        
        .product-detail-description {
            line-height: 1.8;
            color: var(--dark);
            margin-bottom: 25px;
            font-size: 16px;
        }
        
        /* Logo Icon Selector */
        .logo-icon-selector {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            gap: 15px;
            margin-top: 10px;
        }
        
        .logo-icon-option {
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            border: 2px solid transparent;
            transition: all 0.3s;
            background-color: var(--light);
        }
        
        .logo-icon-option:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .logo-icon-option.selected {
            border-color: var(--primary);
            background-color: rgba(139, 95, 191, 0.1);
        }
        
        .logo-icon-option i {
            font-size: 24px;
            color: var(--primary);
            margin-bottom: 5px;
        }
        
        /* Logo Image Upload */
        .logo-image-upload {
            margin-top: 15px;
        }
        
        .logo-preview {
            width: 100px;
            height: 100px;
            object-fit: contain;
            border-radius: 8px;
            margin-top: 10px;
            border: 2px solid #ddd;
            display: none;
        }
        
        /* Orders List */
        .order-item {
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            margin-bottom: 20px;
            background-color: white;
            position: relative;
        }
        
        .order-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .order-info {
            flex: 1;
        }
        
        .order-actions {
            margin-left: 20px;
        }
        
        .order-products {
            margin-top: 15px;
        }
        
        .order-product {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #f5f5f5;
        }
        
        .order-product:last-child {
            border-bottom: none;
        }
        
        .order-bank-info {
            margin-top: 15px;
            padding: 12px;
            background-color: #f8f9fa;
            border-radius: 6px;
            border-left: 3px solid var(--primary);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: row;
                gap: 15px;
            }
            
            .nav-links {
                display: none;
            }
            
            .mobile-menu-toggle {
                display: block;
            }
            
            .hero h2 {
                font-size: 32px;
            }
            
            .checkout-form {
                grid-template-columns: 1fr;
            }
            
            .admin-actions {
                flex-direction: column;
            }
            
            .admin-tabs {
                flex-wrap: wrap;
            }
            
            .bank-accounts-table {
                font-size: 14px;
            }
            
            .customer-bank-selection {
                grid-template-columns: 1fr;
            }
            
            .product-detail {
                grid-template-columns: 1fr;
            }
            
            .color-picker-container {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            }
            
            .logo-icon-selector {
                grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
            }
            
            .order-header {
                flex-direction: column;
                gap: 15px;
            }
            
            .order-actions {
                margin-left: 0;
                width: 100%;
                display: flex;
                justify-content: flex-end;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i id="logo-icon" class="fas fa-gem"></i>
                    <img id="logo-image" class="logo-img" src="" alt="Logo" style="display: none;">
                    <h1 id="store-name">Faloliz</h1>
                </div>
                <div class="nav-links">
                    <a href="#home"><i class="fas fa-home"></i> Inicio</a>
                    <a href="#products"><i class="fas fa-store"></i> Productos</a>
                    <a href="#about"><i class="fas fa-info-circle"></i> Nosotros</a>
                    <a href="#contact"><i class="fas fa-envelope"></i> Contacto</a>
                    <a href="#" id="cart-icon" class="cart-icon">
                        <i class="fas fa-shopping-cart"></i>
                        <span class="cart-count">0</span>
                    </a>
                    <a href="#" id="admin-btn"><i class="fas fa-cog"></i> Admin</a>
                </div>
                <button class="mobile-menu-toggle" id="mobile-menu-toggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
            <div class="mobile-nav" id="mobile-nav">
                <a href="#home"><i class="fas fa-home"></i> Inicio</a>
                <a href="#products"><i class="fas fa-store"></i> Productos</a>
                <a href="#about"><i class="fas fa-info-circle"></i> Nosotros</a>
                <a href="#contact"><i class="fas fa-envelope"></i> Contacto</a>
                <a href="#" id="mobile-cart-icon" class="cart-icon">
                    <i class="fas fa-shopping-cart"></i> Carrito <span class="cart-count">0</span>
                </a>
                <a href="#" id="mobile-admin-btn"><i class="fas fa-cog"></i> Admin</a>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="container">
            <h2 id="hero-title">Perfumes que Inspiran</h2>
            <p id="hero-subtitle">Descubre nuestra exclusiva colección de fragancias que capturan la esencia de la elegancia y sofisticación. Encuentra tu aroma perfecto en Faloliz.</p>
            <a href="#products" class="btn">Explorar Productos</a>
        </div>
    </section>

    <!-- Products Section -->
    <section class="products-section" id="products">
        <div class="container">
            <div class="section-title">
                <h2 id="products-title">Nuestros Productos</h2>
                <p id="products-subtitle">Descubre nuestra selección de fragancias exclusivas para hombres y mujeres</p>
            </div>
            <div class="products-grid" id="products-container">
                <!-- Los productos se cargarán aquí dinámicamente -->
            </div>
        </div>
    </section>

    <!-- Product Detail Modal -->
    <div class="modal product-detail-modal" id="product-detail-modal">
        <div class="modal-content">
            <span class="close-modal" id="close-product-detail">&times;</span>
            <div class="product-detail" id="product-detail-content">
                <!-- El contenido del detalle del producto se cargará aquí -->
            </div>
        </div>
    </div>

    <!-- Cart Modal -->
    <div class="modal" id="cart-modal">
        <div class="modal-content">
            <span class="close-modal" id="close-cart">&times;</span>
            <h2>Tu Carrito de Compras</h2>
            <div class="cart-items" id="cart-items">
                <!-- Los items del carrito se cargarán aquí -->
            </div>
            <div class="cart-total">
                <span>Total:</span>
                <span id="cart-total">L 0.00</span>
            </div>
            <button class="btn btn-primary" id="checkout-btn">Proceder al Pago</button>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div class="modal" id="checkout-modal">
        <div class="modal-content">
            <span class="close-modal" id="close-checkout">&times;</span>
            <h2>Finalizar Compra</h2>
            <form id="checkout-form" class="checkout-form">
                <div>
                    <h3>Información de Contacto</h3>
                    <div class="form-group">
                        <label for="customer-name">Nombre Completo</label>
                        <input type="text" id="customer-name" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="customer-email">Correo Electrónico</label>
                        <input type="email" id="customer-email" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="customer-phone">Teléfono</label>
                        <input type="tel" id="customer-phone" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="customer-address">Dirección</label>
                        <textarea id="customer-address" class="form-control" rows="3" required></textarea>
                    </div>
                </div>
                <div>
                    <h3>Método de Pago</h3>
                    <div class="payment-methods">
                        <div class="payment-option" data-method="efectivo">
                            <h4><i class="fas fa-money-bill-wave"></i> Pago en Efectivo</h4>
                            <p>Paga al momento de recibir tu pedido</p>
                        </div>
                        <div class="payment-option" data-method="transferencia">
                            <h4><i class="fas fa-university"></i> Transferencia Bancaria</h4>
                            <p>Realiza una transferencia a nuestra cuenta bancaria</p>
                            <div class="bank-details" id="bank-details">
                                <div class="customer-bank-info">
                                    <h5><i class="fas fa-user"></i> Información de tu Banco</h5>
                                    <p>Selecciona tu banco e ingresa tu número de cuenta para la transferencia:</p>
                                    <div class="customer-bank-selection">
                                        <div class="form-group">
                                            <label for="customer-bank">Tu Banco</label>
                                            <select id="customer-bank" class="form-control" required>
                                                <option value="">Selecciona tu banco</option>
                                                <option value="BAC Credomatic">BAC Credomatic</option>
                                                <option value="Banco Atlántida">Banco Atlántida</option>
                                                <option value="Banco Ficohsa">Banco Ficohsa</option>
                                                <option value="Banco de Occidente">Banco de Occidente</option>
                                                <option value="Banco Lafise">Banco Lafise</option>
                                                <option value="Banco Azteca">Banco Azteca</option>
                                                <option value="Banco Financiera Comercial Hondureña">Banco Financiera Comercial Hondureña</option>
                                                <option value="Banco de los Trabajadores">Banco de los Trabajadores</option>
                                                <option value="Banco Popular">Banco Popular</option>
                                                <option value="Banco Davivienda">Banco Davivienda</option>
                                                <option value="Banco Cuscatlán">Banco Cuscatlán</option>
                                                <option value="Banco Promerica">Banco Promerica</option>
                                                <option value="Banco de América Central">Banco de América Central</option>
                                                <option value="Lloyds Bank">Lloyds Bank</option>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label for="customer-account-number">Tu Número de Cuenta</label>
                                            <input type="text" id="customer-account-number" class="form-control" 
                                                   placeholder="Ej: 123-456789-0" required>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">Confirmar Pedido</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div class="modal" id="admin-login-modal">
        <div class="modal-content">
            <span class="close-modal" id="close-admin-login">&times;</span>
            <div class="login-form">
                <h2>Acceso Administrativo</h2>
                <form id="admin-login-form">
                    <div class="form-group">
                        <label for="admin-email">Correo Electrónico</label>
                        <input type="email" id="admin-email" class="form-control" value="fatima.ligomes11@gmail.com" readonly>
                    </div>
                    <div class="form-group">
                        <label for="admin-password">Contraseña</label>
                        <input type="password" id="admin-password" class="form-control" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Iniciar Sesión</button>
                    <div class="forgot-password">
                        <a href="#" id="forgot-password-link">¿Olvidaste tu contraseña?</a>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Admin Panel -->
    <div class="modal" id="admin-panel-modal">
        <div class="modal-content">
            <span class="close-modal" id="close-admin-panel">&times;</span>
            <div class="admin-panel">
                <div class="admin-header">
                    <h2>Panel de Administración</h2>
                    <button class="btn" id="logout-admin">Cerrar Sesión</button>
                </div>
                
                <div class="admin-tabs">
                    <button class="admin-tab active" data-tab="products">Productos</button>
                    <button class="admin-tab" data-tab="config">Configuración</button>
                    <button class="admin-tab" data-tab="bank-accounts">Cuentas Bancarias</button>
                    <button class="admin-tab" data-tab="orders">Pedidos</button>
                </div>
                
                <!-- Sección de Productos -->
                <div class="config-section active" id="products-section">
                    <div class="admin-actions">
                        <button class="btn btn-primary" id="add-product-btn">Agregar Producto</button>
                    </div>
                    <h3>Gestión de Productos</h3>
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>Imagen</th>
                                <th>Nombre</th>
                                <th>Marca</th>
                                <th>Precio</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="admin-products-table">
                            <!-- Los productos se cargarán aquí -->
                        </tbody>
                    </table>
                </div>
                
                <!-- Sección de Configuración -->
                <div class="config-section" id="config-section">
                    <h3>Configuración de la Tienda</h3>
                    <form id="store-config-form" class="config-form">
                        <div class="config-group">
                            <h3>Información General</h3>
                            <div class="form-group">
                                <label for="config-store-name">Nombre de la Tienda</label>
                                <input type="text" id="config-store-name" class="form-control">
                            </div>
                            <div class="form-group">
                                <label for="config-hero-title">Título Principal</label>
                                <input type="text" id="config-hero-title" class="form-control">
                            </div>
                            <div class="form-group">
                                <label for="config-hero-subtitle">Subtítulo Principal</label>
                                <textarea id="config-hero-subtitle" class="form-control" rows="3"></textarea>
                            </div>
                            <div class="form-group">
                                <label for="config-products-title">Título de Productos</label>
                                <input type="text" id="config-products-title" class="form-control">
                            </div>
                            <div class="form-group">
                                <label for="config-products-subtitle">Subtítulo de Productos</label>
                                <textarea id="config-products-subtitle" class="form-control" rows="2"></textarea>
                            </div>
                        </div>
                        
                        <div class="config-group">
                            <h3>Información de Contacto</h3>
                            <div class="form-group">
                                <label for="config-address">Dirección</label>
                                <input type="text" id="config-address" class="form-control">
                            </div>
                            <div class="form-group">
                                <label for="config-phone">Teléfono</label>
                                <input type="text" id="config-phone" class="form-control">
                            </div>
                            <div class="form-group">
                                <label for="config-email">Correo Electrónico</label>
                                <input type="email" id="config-email" class="form-control">
                            </div>
                        </div>
                        
                        <!-- Selector de colores mejorado -->
                        <div class="config-group">
                            <h3>Personalización de Colores</h3>
                            <div class="form-group">
                                <label>Color Principal</label>
                                <div class="color-picker-container" id="primary-color-picker">
                                    <!-- Colores se cargarán dinámicamente -->
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Color Secundario</label>
                                <div class="color-picker-container" id="secondary-color-picker">
                                    <!-- Colores se cargarán dinámicamente -->
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Color de Acento</label>
                                <div class="color-picker-container" id="accent-color-picker">
                                    <!-- Colores se cargarán dinámicamente -->
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Color del Subtítulo Principal</label>
                                <div class="color-picker-container" id="subtitle-color-picker">
                                    <!-- Colores se cargarán dinámicamente -->
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Fondo del Subtítulo Principal</label>
                                <div class="color-picker-container" id="subtitle-bg-picker">
                                    <!-- Colores se cargarán dinámicamente -->
                                </div>
                            </div>
                        </div>
                        
                        <!-- Selector de icono del logo -->
                        <div class="config-group">
                            <h3>Logo de la Tienda</h3>
                            <div class="form-group">
                                <label>Subir imagen del logo</label>
                                <div class="logo-image-upload">
                                    <input type="file" id="logo-image-upload" class="form-control" accept="image/*">
                                    <small>Selecciona una imagen para el logo (recomendado: formato PNG transparente)</small>
                                    <img id="logo-preview" class="logo-preview" src="" alt="Vista previa del logo">
                                </div>
                            </div>
                        </div>
                        
                        <div class="config-group">
                            <h3>Información Bancaria Principal</h3>
                            <div class="form-group">
                                <label for="config-bank-name">Banco Principal</label>
                                <select id="config-bank-name" class="form-control">
                                    <!-- Se llenará dinámicamente -->
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="config-bank-account">Número de Cuenta Principal</label>
                                <input type="text" id="config-bank-account" class="form-control">
                            </div>
                            <div class="form-group">
                                <label for="config-account-holder">Titular de la Cuenta</label>
                                <input type="text" id="config-account-holder" class="form-control">
                            </div>
                            <div class="form-group">
                                <label for="config-account-type">Tipo de Cuenta</label>
                                <input type="text" id="config-account-type" class="form-control">
                            </div>
                        </div>
                        
                        <div class="config-group">
                            <h3>Redes Sociales</h3>
                            <div class="form-group">
                                <label for="config-facebook">Facebook</label>
                                <input type="url" id="config-facebook" class="form-control">
                            </div>
                            <div class="form-group">
                                <label for="config-instagram">Instagram</label>
                                <input type="url" id="config-instagram" class="form-control">
                            </div>
                            <div class="form-group">
                                <label for="config-whatsapp">WhatsApp</label>
                                <input type="text" id="config-whatsapp" class="form-control">
                            </div>
                        </div>
                        
                        <button type="submit" class="btn btn-primary">Guardar Configuración</button>
                    </form>
                </div>
                
                <!-- Sección de Cuentas Bancarias -->
                <div class="config-section" id="bank-accounts-section">
                    <h3>Gestión de Cuentas Bancarias</h3>
                    <p>Configura las cuentas bancarias disponibles para transferencias. Los clientes podrán seleccionar entre estas opciones.</p>
                    
                    <div class="config-group">
                        <h4>Cuentas Bancarias Configuradas</h4>
                        <table class="bank-accounts-table">
                            <thead>
                                <tr>
                                    <th>Banco</th>
                                    <th>Número de Cuenta</th>
                                    <th>Activo</th>
                                </tr>
                            </thead>
                            <tbody id="bank-accounts-table">
                                <!-- Las cuentas se cargarán dinámicamente -->
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="config-group">
                        <h4>Agregar Nueva Cuenta Bancaria</h4>
                        <form id="add-bank-account-form">
                            <div class="form-group">
                                <label for="new-bank-name">Nombre del Banco</label>
                                <select id="new-bank-name" class="form-control">
                                    <option value="">Selecciona un banco</option>
                                    <option value="BAC Credomatic">BAC Credomatic</option>
                                    <option value="Banco Atlántida">Banco Atlántida</option>
                                    <option value="Banco Ficohsa">Banco Ficohsa</option>
                                    <option value="Banco de Occidente">Banco de Occidente</option>
                                    <option value="Banco Lafise">Banco Lafise</option>
                                    <option value="Banco Azteca">Banco Azteca</option>
                                    <option value="Banco Financiera Comercial Hondureña">Banco Financiera Comercial Hondureña</option>
                                    <option value="Banco de los Trabajadores">Banco de los Trabajadores</option>
                                    <option value="Banco Popular">Banco Popular</option>
                                    <option value="Banco Davivienda">Banco Davivienda</option>
                                    <option value="Banco Cuscatlán">Banco Cuscatlán</option>
                                    <option value="Banco Promerica">Banco Promerica</option>
                                    <option value="Banco de América Central">Banco de América Central</option>
                                    <option value="Lloyds Bank">Lloyds Bank</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="new-bank-account">Número de Cuenta</label>
                                <input type="text" id="new-bank-account" class="form-control" placeholder="Ej: 123-456789-0">
                            </div>
                            <button type="submit" class="btn btn-primary">Agregar Cuenta</button>
                        </form>
                    </div>
                </div>
                
                <!-- Sección de Pedidos -->
                <div class="config-section" id="orders-section">
                    <h3>Gestión de Pedidos</h3>
                    <p>Aquí podrás ver y gestionar los pedidos de los clientes.</p>
                    <div class="admin-actions">
                        <button class="btn btn-primary" id="clear-all-orders">Eliminar Todos los Pedidos</button>
                    </div>
                    <div id="orders-list">
                        <!-- Los pedidos se cargarán aquí -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add/Edit Product Modal -->
    <div class="modal" id="product-form-modal">
        <div class="modal-content">
            <span class="close-modal" id="close-product-form">&times;</span>
            <h2 id="product-form-title">Agregar Producto</h2>
            <form id="product-form">
                <div class="form-group">
                    <label for="product-name">Nombre del Producto</label>
                    <input type="text" id="product-name" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="product-brand">Marca</label>
                    <input type="text" id="product-brand" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="product-price">Precio (L)</label>
                    <input type="number" id="product-price" class="form-control" min="0" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="product-description">Descripción</label>
                    <textarea id="product-description" class="form-control" rows="6" required></textarea>
                </div>
                <div class="form-group">
                    <label for="product-image">Imagen del Producto</label>
                    <input type="file" id="product-image" class="form-control" accept="image/*">
                    <small>Selecciona una imagen para el producto</small>
                    <div id="image-preview" style="margin-top: 10px;"></div>
                </div>
                <button type="submit" class="btn btn-primary" id="save-product-btn">Guardar Producto</button>
            </form>
        </div>
    </div>

    <!-- Footer -->
    <footer id="contact">
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3 id="footer-store-name">Faloliz</h3>
                    <p id="footer-description">Tu tienda de confianza para fragancias exclusivas en <span id="footer-address">El Paraíso, Honduras</span>.</p>
                    <div class="social-links">
                        <a href="#" id="facebook-link"><i class="fab fa-facebook"></i></a>
                        <a href="#" id="instagram-link"><i class="fab fa-instagram"></i></a>
                        <a href="#" id="whatsapp-link"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
                <div class="footer-column">
                    <h3>Enlaces Rápidos</h3>
                    <ul class="footer-links">
                        <li><a href="#home">Inicio</a></li>
                        <li><a href="#products">Productos</a></li>
                        <li><a href="#about">Sobre Nosotros</a></li>
                        <li><a href="#contact">Contacto</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Contacto</h3>
                    <ul class="footer-links">
                        <li><i class="fas fa-map-marker-alt"></i> <span id="footer-contact-address">El Paraíso, Honduras</span></li>
                        <li><i class="fas fa-phone"></i> <span id="footer-phone">+504 1234-5678</span></li>
                        <li><i class="fas fa-envelope"></i> <span id="footer-email">fatima.ligomes11@gmail.com</span></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 <span id="footer-copyright">Faloliz</span>. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <script>
        // Inicializar EmailJS - CONFIGURACIÓN SIMULADA PARA PRUEBAS
        // Para usar EmailJS real, regístrate en https://www.emailjs.com/
        emailjs.init("demo_public_key"); // Esta es una clave de demostración

        // Configuración de la tienda
        let storeConfig = {
            storeName: "Faloliz",
            heroTitle: "Perfumes que Inspiran",
            heroSubtitle: "Descubre nuestra exclusiva colección de fragancias que capturan la esencia de la elegancia y sofisticación. Encuentra tu aroma perfecto en Faloliz.",
            productsTitle: "Nuestros Productos",
            productsSubtitle: "Descubre nuestra selección de fragancias exclusivas para hombres y mujeres",
            address: "El Paraíso, Honduras",
            phone: "+504 1234-5678",
            email: "fatima.ligomes11@gmail.com",
            bankName: "BAC Credomatic",
            bankAccount: "123-456789-0",
            accountHolder: "Faloliz",
            accountType: "Cuenta Corriente",
            facebook: "#",
            instagram: "#",
            whatsapp: "#",
            colors: {
                primary: "#8B5FBF",
                secondary: "#FFD700", 
                accent: "#2C1A4D",
                subtitle: "#2C1A4D",
                subtitleBg: "rgba(139, 95, 191, 0.1)"
            },
            logoIcon: "fas fa-gem",
            logoImage: ""
        };

        // Sample product data
        let products = [
            {
                id: 1,
                name: "Yara Eau de Parfum",
                brand: "Yara",
                price: 1200,
                description: "Una fragancia que captura la esencia de la sofisticación moderna con un toque oriental. Desde la primera pulverización, Yara despierta los sentidos con una mezcla luminosa de mandarina jugosa, orquídea seductora y heliotropo cremoso. Esta fragancia única combina notas cítricas frescas con un corazón floral elegante y un fondo cálido y cremoso que perdura en la piel durante horas. Perfecta para ocasiones especiales y uso diario, Yara se adapta a cualquier momento del día, proyectando una aura de elegancia y distinción.",
                image: "https://images.unsplash.com/photo-1544468266-6a8948001c78?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
            },
            {
                id: 2,
                name: "360 Black Men",
                brand: "Perry Ellis",
                price: 1035,
                description: "360 Black (M) EDT es una fragancia masculina amaderada y especiada, que combina notas de bergamota, canela, lavanda y ámbar. Su aroma fresco y cálido transmite una sensación de sofisticación y masculinidad. Las notas iniciales de bergamota y mandarina dan paso a un corazón especiado con canela y cardamomo, mientras que el fondo de ámbar y musk proporciona una base sensual y duradera. Ideal para el hombre moderno que busca una fragancia versátil que funcione tanto de día como de noche, en entornos profesionales y sociales.",
                image: "https://images.unsplash.com/photo-1590736969955-1d0c97b0b8c6?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
            },
            {
                id: 3,
                name: "Origem Crema Corporal",
                brand: "Origem",
                price: 97,
                description: "Crema corporal Origem 380ml con extracto de almendras. Fórmula nutritiva de rápida absorción que hidrata y suaviza la piel. Enriquecida con aceite de almendras, esta crema es vegana, libre de parabenos y cruelty-free. Su textura ligera pero intensamente hidratante penetra rápidamente sin dejar residuos grasos, dejando la piel suave, elástica y con un agradable aroma a almendras. Perfecta para uso diario después del baño, ayuda a restaurar la barrera natural de la piel y protegerla contra la sequedad ambiental. Apto para todo tipo de piel, incluyendo las más sensibles.",
                image: "https://images.unsplash.com/photo-1556228578-1cfda19f83c5?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
            }
        ];

        // Pedidos realizados
        let orders = [];

        // Paleta de colores extendida CON MÁS COLORES
        const colorPalette = {
            primary: [
                { name: "Púrpura Elegante", value: "#8B5FBF" },
                { name: "Azul Profundo", value: "#2C5FBF" },
                { name: "Verde Esmeralda", value: "#2CBFA5" },
                { name: "Rojo Pasión", value: "#BF2C5F" },
                { name: "Naranja Vibrante", value: "#BF7A2C" },
                { name: "Rosa Suave", value: "#BF2C8B" },
                { name: "Turquesa", value: "#2CBFBF" },
                { name: "Morado Oscuro", value: "#5F2CBF" },
                { name: "Amarillo Brillante", value: "#FFD700" },
                { name: "Verde Lima", value: "#32CD32" },
                { name: "Azul Cielo", value: "#87CEEB" },
                { name: "Coral", value: "#FF7F50" }
            ],
            secondary: [
                { name: "Dorado", value: "#FFD700" },
                { name: "Plateado", value: "#C0C0C0" },
                { name: "Blanco", value: "#FFFFFF" },
                { name: "Negro", value: "#000000" },
                { name: "Beige", value: "#F5F5DC" },
                { name: "Gris Claro", value: "#D3D3D3" },
                { name: "Bronce", value: "#CD7F32" },
                { name: "Cobre", value: "#B87333" },
                { name: "Amarillo Claro", value: "#FFFACD" },
                { name: "Rosa Pastel", value: "#FFB6C1" },
                { name: "Azul Pastel", value: "#ADD8E6" },
                { name: "Verde Pastel", value: "#98FB98" }
            ],
            accent: [
                { name: "Índigo", value: "#2C1A4D" },
                { name: "Burgundy", value: "#4D1A2C" },
                { name: "Verde Oscuro", value: "#1A4D2C" },
                { name: "Azul Marino", value: "#1A2C4D" },
                { name: "Púrpura Oscuro", value: "#4D1A4D" },
                { name: "Gris Oscuro", value: "#2C2C2C" },
                { name: "Marrón", value: "#4D2C1A" },
                { name: "Verde Azulado", value: "#1A4D4D" },
                { name: "Rojo Oscuro", value: "#8B0000" },
                { name: "Azul Acero", value: "#4682B4" },
                { name: "Verde Oliva", value: "#556B2F" },
                { name: "Granate", value: "#800020" }
            ],
            subtitle: [
                { name: "Índigo", value: "#2C1A4D" },
                { name: "Azul Marino", value: "#1A2C4D" },
                { name: "Verde Oscuro", value: "#1A4D2C" },
                { name: "Rojo Oscuro", value: "#4D1A2C" },
                { name: "Púrpura", value: "#5F2CBF" },
                { name: "Gris Oscuro", value: "#2C2C2C" },
                { name: "Dorado", value: "#FFD700" },
                { name: "Blanco", value: "#FFFFFF" },
                { name: "Amarillo Oscuro", value: "#FF8C00" },
                { name: "Verde Esmeralda", value: "#2CBFA5" },
                { name: "Rojo Coral", value: "#FF7F50" },
                { name: "Azul Real", value: "#4169E1" }
            ],
            subtitleBg: [
                { name: "Transparente", value: "transparent" },
                { name: "Morado Claro", value: "rgba(139, 95, 191, 0.1)" },
                { name: "Dorado Claro", value: "rgba(255, 215, 0, 0.1)" },
                { name: "Azul Claro", value: "rgba(44, 95, 191, 0.1)" },
                { name: "Verde Claro", value: "rgba(44, 191, 165, 0.1)" },
                { name: "Rojo Claro", value: "rgba(191, 44, 95, 0.1)" },
                { name: "Blanco", value: "rgba(255, 255, 255, 0.9)" },
                { name: "Gris Claro", value: "rgba(248, 249, 250, 0.9)" },
                { name: "Amarillo Brillante", value: "rgba(255, 215, 0, 0.2)" },
                { name: "Rosa Claro", value: "rgba(255, 182, 193, 0.2)" },
                { name: "Turquesa Claro", value: "rgba(64, 224, 208, 0.1)" },
                { name: "Lavanda", value: "rgba(230, 230, 250, 0.8)" }
            ]
        };

        let cart = [];
        let currentEditingProductId = null;

        // DOM Elements
        const productsContainer = document.getElementById('products-container');
        const productDetailModal = document.getElementById('product-detail-modal');
        const closeProductDetail = document.getElementById('close-product-detail');
        const productDetailContent = document.getElementById('product-detail-content');
        const cartModal = document.getElementById('cart-modal');
        const closeCart = document.getElementById('close-cart');
        const cartItems = document.getElementById('cart-items');
        const cartTotal = document.getElementById('cart-total');
        const checkoutBtn = document.getElementById('checkout-btn');
        const cartIcon = document.getElementById('cart-icon');
        const mobileCartIcon = document.getElementById('mobile-cart-icon');
        const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
        const mobileNav = document.getElementById('mobile-nav');
        const logoIconElement = document.getElementById('logo-icon');
        const logoImageElement = document.getElementById('logo-image');
        const adminBtn = document.getElementById('admin-btn');
        const mobileAdminBtn = document.getElementById('mobile-admin-btn');
        const adminLoginModal = document.getElementById('admin-login-modal');
        const closeAdminLogin = document.getElementById('close-admin-login');
        const adminPanelModal = document.getElementById('admin-panel-modal');
        const closeAdminPanel = document.getElementById('close-admin-panel');
        const adminLoginForm = document.getElementById('admin-login-form');
        const adminPassword = document.getElementById('admin-password');
        const logoutAdmin = document.getElementById('logout-admin');
        const adminTabs = document.querySelectorAll('.admin-tab');
        const configSections = document.querySelectorAll('.config-section');
        const storeConfigForm = document.getElementById('store-config-form');
        const configStoreName = document.getElementById('config-store-name');
        const configHeroTitle = document.getElementById('config-hero-title');
        const configHeroSubtitle = document.getElementById('config-hero-subtitle');
        const configProductsTitle = document.getElementById('config-products-title');
        const configProductsSubtitle = document.getElementById('config-products-subtitle');
        const logoImageUpload = document.getElementById('logo-image-upload');
        const logoPreview = document.getElementById('logo-preview');
        const checkoutModal = document.getElementById('checkout-modal');
        const closeCheckout = document.getElementById('close-checkout');
        const checkoutForm = document.getElementById('checkout-form');
        const paymentOptions = document.querySelectorAll('.payment-option');
        const addProductBtn = document.getElementById('add-product-btn');
        const productFormModal = document.getElementById('product-form-modal');
        const closeProductForm = document.getElementById('close-product-form');
        const productForm = document.getElementById('product-form');
        const productFormTitle = document.getElementById('product-form-title');
        const productName = document.getElementById('product-name');
        const productBrand = document.getElementById('product-brand');
        const productPrice = document.getElementById('product-price');
        const productDescription = document.getElementById('product-description');
        const productImage = document.getElementById('product-image');
        const imagePreview = document.getElementById('image-preview');
        const saveProductBtn = document.getElementById('save-product-btn');
        const adminProductsTable = document.getElementById('admin-products-table');
        const ordersList = document.getElementById('orders-list');
        const clearAllOrdersBtn = document.getElementById('clear-all-orders');
        const forgotPasswordLink = document.getElementById('forgot-password-link');

        // Función para enviar pedidos por correo - MEJORADA CON MANEJO DE ERRORES
        async function sendOrderEmail(order) {
            try {
                const templateParams = {
                    to_email: storeConfig.email,
                    customer_name: order.customerName,
                    customer_email: order.customerEmail,
                    customer_phone: order.customerPhone,
                    customer_address: order.customerAddress,
                    order_id: order.id,
                    order_date: new Date(order.date).toLocaleString(),
                    order_total: `L ${order.total.toFixed(2)}`,
                    payment_method: order.paymentMethod,
                    order_details: generateOrderDetailsHTML(order),
                    from_name: storeConfig.storeName
                };

                // Para EmailJS real, descomenta esta línea y configura tus credenciales:
                // await emailjs.send('YOUR_SERVICE_ID', 'YOUR_TEMPLATE_ID', templateParams);
                
                // Simulación exitosa para pruebas
                console.log('Correo de pedido simulado enviado:', templateParams);
                await new Promise(resolve => setTimeout(resolve, 1000)); // Simular envío
                
                return true;
            } catch (error) {
                console.error('Error enviando correo:', error);
                return false;
            }
        }

        // Función para enviar correo de recuperación de contraseña - MEJORADA
        async function sendPasswordRecoveryEmail(userEmail) {
            try {
                // Generar token temporal
                const tempToken = Math.random().toString(36).substring(2, 15) + 
                                 Math.random().toString(36).substring(2, 15);
                
                const templateParams = {
                    to_email: userEmail,
                    reset_link: `https://faloliz.com/admin-reset-password?token=${tempToken}&email=${encodeURIComponent(userEmail)}`,
                    store_name: storeConfig.storeName,
                    from_name: "Soporte Faloliz"
                };

                // Para EmailJS real, descomenta esta línea:
                // await emailjs.send('YOUR_SERVICE_ID', 'YOUR_PASSWORD_RESET_TEMPLATE_ID', templateParams);
                
                // Simulación exitosa para pruebas
                console.log('Correo de recuperación simulado enviado:', templateParams);
                await new Promise(resolve => setTimeout(resolve, 1000)); // Simular envío
                
                return true;
            } catch (error) {
                console.error('Error enviando correo de recuperación:', error);
                return false;
            }
        }

        // Función para generar HTML de los detalles del pedido
        function generateOrderDetailsHTML(order) {
            let html = '<h3>Detalles del Pedido:</h3><ul>';
            order.products.forEach(product => {
                html += `<li>${product.name} - ${product.brand} (x${product.quantity}) - L ${(product.price * product.quantity).toFixed(2)}</li>`;
            });
            html += '</ul>';
            
            if (order.bankInfo) {
                html += `<h3>Información Bancaria del Cliente:</h3>
                         <p>Banco: ${order.bankInfo.bank}<br>
                         Número de Cuenta: ${order.bankInfo.accountNumber}</p>`;
            }
            
            return html;
        }

        // Initialize the app
        function init() {
            loadStoreConfig();
            renderProducts();
            renderAdminProducts();
            renderColorPickers();
            renderOrders();
            updateCartCount();
            setupEventListeners();
            loadConfigForm();
        }

        // Renderizar selectores de color
        function renderColorPickers() {
            renderColorPicker('primary-color-picker', 'primary', storeConfig.colors.primary);
            renderColorPicker('secondary-color-picker', 'secondary', storeConfig.colors.secondary);
            renderColorPicker('accent-color-picker', 'accent', storeConfig.colors.accent);
            renderColorPicker('subtitle-color-picker', 'subtitle', storeConfig.colors.subtitle);
            renderColorPicker('subtitle-bg-picker', 'subtitleBg', storeConfig.colors.subtitleBg);
        }

        function renderColorPicker(containerId, colorType, currentColor) {
            const container = document.getElementById(containerId);
            if (!container) return;
            
            container.innerHTML = '';
            
            colorPalette[colorType].forEach(color => {
                const colorOption = document.createElement('div');
                colorOption.className = `color-option ${color.value === currentColor ? 'selected' : ''}`;
                colorOption.innerHTML = `
                    <div class="color-preview" style="background-color: ${color.value}"></div>
                    <div>${color.name}</div>
                `;
                colorOption.addEventListener('click', () => {
                    document.querySelectorAll(`#${containerId} .color-option`).forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    colorOption.classList.add('selected');
                    updateColor(colorType, color.value);
                });
                container.appendChild(colorOption);
            });
        }

        function updateColor(colorType, colorValue) {
            storeConfig.colors[colorType] = colorValue;
            applyColors();
            saveStoreConfig();
        }

        function applyColors() {
            const root = document.documentElement;
            root.style.setProperty('--primary', storeConfig.colors.primary);
            root.style.setProperty('--secondary', storeConfig.colors.secondary);
            root.style.setProperty('--accent', storeConfig.colors.accent);
            root.style.setProperty('--subtitle-color', storeConfig.colors.subtitle);
            root.style.setProperty('--subtitle-bg-color', storeConfig.colors.subtitleBg);
        }

        // Cargar configuración de la tienda
        function loadStoreConfig() {
            const savedConfig = localStorage.getItem('faloliz-config');
            const savedProducts = localStorage.getItem('faloliz-products');
            const savedOrders = localStorage.getItem('faloliz-orders');
            
            if (savedConfig) {
                const parsedConfig = JSON.parse(savedConfig);
                storeConfig = { ...storeConfig, ...parsedConfig };
                if (!storeConfig.colors) {
                    storeConfig.colors = {
                        primary: "#8B5FBF",
                        secondary: "#FFD700", 
                        accent: "#2C1A4D",
                        subtitle: "#2C1A4D",
                        subtitleBg: "rgba(139, 95, 191, 0.1)"
                    };
                }
                if (!storeConfig.logoIcon) {
                    storeConfig.logoIcon = "fas fa-gem";
                }
            }
            
            if (savedProducts) {
                products = JSON.parse(savedProducts);
            }
            
            if (savedOrders) {
                orders = JSON.parse(savedOrders);
            }
            
            applyStoreConfig();
            applyColors();
            applyLogo();
        }

        // Guardar configuración de la tienda
        function saveStoreConfig() {
            localStorage.setItem('faloliz-config', JSON.stringify(storeConfig));
            localStorage.setItem('faloliz-products', JSON.stringify(products));
            localStorage.setItem('faloliz-orders', JSON.stringify(orders));
        }

        // Aplicar configuración a la página
        function applyStoreConfig() {
            document.getElementById('store-name').textContent = storeConfig.storeName;
            document.getElementById('hero-title').textContent = storeConfig.heroTitle;
            document.getElementById('hero-subtitle').textContent = storeConfig.heroSubtitle;
            document.getElementById('products-title').textContent = storeConfig.productsTitle;
            document.getElementById('products-subtitle').textContent = storeConfig.productsSubtitle;
            
            // Footer
            document.getElementById('footer-store-name').textContent = storeConfig.storeName;
            document.getElementById('footer-contact-address').textContent = storeConfig.address;
            document.getElementById('footer-phone').textContent = storeConfig.phone;
            document.getElementById('footer-email').textContent = storeConfig.email;
            document.getElementById('footer-copyright').textContent = storeConfig.storeName;
        }

        // Aplicar logo (imagen o icono)
        function applyLogo() {
            if (storeConfig.logoImage) {
                // Usar imagen del logo
                logoIconElement.style.display = 'none';
                logoImageElement.style.display = 'block';
                logoImageElement.src = storeConfig.logoImage;
            } else {
                // Usar icono del logo
                logoIconElement.style.display = 'block';
                logoImageElement.style.display = 'none';
                logoIconElement.className = storeConfig.logoIcon;
            }
        }

        // Cargar formulario de configuración
        function loadConfigForm() {
            if (configStoreName) configStoreName.value = storeConfig.storeName;
            if (configHeroTitle) configHeroTitle.value = storeConfig.heroTitle;
            if (configHeroSubtitle) configHeroSubtitle.value = storeConfig.heroSubtitle;
            if (configProductsTitle) configProductsTitle.value = storeConfig.productsTitle;
            if (configProductsSubtitle) configProductsSubtitle.value = storeConfig.productsSubtitle;
            
            // Cargar vista previa del logo si existe
            if (storeConfig.logoImage) {
                logoPreview.src = storeConfig.logoImage;
                logoPreview.style.display = 'block';
            }
        }

        // Render products to the page
        function renderProducts() {
            if (!productsContainer) {
                console.error('No se encontró el contenedor de productos');
                return;
            }
            
            productsContainer.innerHTML = '';
            
            products.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.innerHTML = `
                    <img src="${product.image}" alt="${product.name}" class="product-image">
                    <div class="product-info">
                        <h3>${product.name}</h3>
                        <div class="product-brand">${product.brand}</div>
                        <p class="product-description">${product.description}</p>
                        <div class="product-price">L ${product.price.toFixed(2)}</div>
                        <div class="product-actions">
                            <button class="btn btn-small" onclick="addToCart(${product.id})">
                                <i class="fas fa-cart-plus"></i> Agregar
                            </button>
                            <button class="btn btn-small btn-primary" onclick="viewProductDetail(${product.id})">
                                <i class="fas fa-eye"></i> Ver
                            </button>
                        </div>
                    </div>
                `;
                productsContainer.appendChild(productCard);
            });
        }

        // Renderizar productos en el panel de administración
        function renderAdminProducts() {
            if (!adminProductsTable) return;
            
            adminProductsTable.innerHTML = '';
            
            products.forEach(product => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><img src="${product.image}" alt="${product.name}"></td>
                    <td>${product.name}</td>
                    <td>${product.brand}</td>
                    <td>L ${product.price.toFixed(2)}</td>
                    <td class="action-buttons">
                        <button class="btn btn-small btn-edit" onclick="editProduct(${product.id})">
                            <i class="fas fa-edit"></i> Editar
                        </button>
                        <button class="btn btn-small btn-delete" onclick="deleteProduct(${product.id})">
                            <i class="fas fa-trash"></i> Eliminar
                        </button>
                    </td>
                `;
                adminProductsTable.appendChild(row);
            });
        }

        // Renderizar pedidos
        function renderOrders() {
            if (!ordersList) return;
            
            ordersList.innerHTML = '';
            
            if (orders.length === 0) {
                ordersList.innerHTML = '<p>No hay pedidos realizados aún.</p>';
                return;
            }
            
            orders.forEach((order, index) => {
                const orderItem = document.createElement('div');
                orderItem.className = 'order-item';
                
                let productsHTML = '';
                order.products.forEach(product => {
                    productsHTML += `
                        <div class="order-product">
                            <span>${product.name} (x${product.quantity})</span>
                            <span>L ${(product.price * product.quantity).toFixed(2)}</span>
                        </div>
                    `;
                });
                
                let bankInfoHTML = '';
                if (order.paymentMethod === 'transferencia' && order.bankInfo) {
                    bankInfoHTML = `
                        <div class="order-bank-info">
                            <strong>Información Bancaria:</strong>
                            <div>Banco: ${order.bankInfo.bank}</div>
                            <div>Número de Cuenta: ${order.bankInfo.accountNumber}</div>
                        </div>
                    `;
                }
                
                orderItem.innerHTML = `
                    <div class="order-header">
                        <div class="order-info">
                            <strong>Pedido #${index + 1}</strong>
                            <div>${order.customerName} - ${order.customerEmail}</div>
                            <div>${new Date(order.date).toLocaleString()}</div>
                            <div><strong>Total: L ${order.total.toFixed(2)}</strong></div>
                            <div>Método: ${order.paymentMethod}</div>
                        </div>
                        <div class="order-actions">
                            <button class="btn btn-small btn-delete" onclick="deleteOrder(${order.id})">
                                <i class="fas fa-trash"></i> Eliminar
                            </button>
                        </div>
                    </div>
                    <div class="order-products">
                        ${productsHTML}
                    </div>
                    ${bankInfoHTML}
                `;
                
                ordersList.appendChild(orderItem);
            });
        }

        // Función para ver detalle del producto
        function viewProductDetail(productId) {
            const product = products.find(p => p.id === productId);
            if (product && productDetailContent) {
                productDetailContent.innerHTML = `
                    <div>
                        <img src="${product.image}" alt="${product.name}" class="product-detail-image">
                    </div>
                    <div class="product-detail-info">
                        <h2>${product.name}</h2>
                        <div class="product-detail-brand">${product.brand}</div>
                        <div class="product-detail-price">L ${product.price.toFixed(2)}</div>
                        <p class="product-detail-description">${product.description}</p>
                        <div class="product-actions">
                            <button class="btn btn-primary" onclick="addToCart(${product.id}); productDetailModal.style.display='none'">
                                <i class="fas fa-cart-plus"></i> Agregar al Carrito
                            </button>
                            <button class="btn" onclick="productDetailModal.style.display='none'">
                                <i class="fas fa-times"></i> Cerrar
                            </button>
                        </div>
                    </div>
                `;
                productDetailModal.style.display = 'flex';
            }
        }

        // Setup event listeners
        function setupEventListeners() {
            // Cerrar modal de detalle de producto
            if (closeProductDetail) {
                closeProductDetail.addEventListener('click', () => {
                    productDetailModal.style.display = 'none';
                });
            }
            
            // Abrir y cerrar carrito
            if (cartIcon) {
                cartIcon.addEventListener('click', (e) => {
                    e.preventDefault();
                    openCartModal();
                });
            }
            
            if (mobileCartIcon) {
                mobileCartIcon.addEventListener('click', (e) => {
                    e.preventDefault();
                    openCartModal();
                    mobileNav.classList.remove('active');
                });
            }
            
            if (closeCart) {
                closeCart.addEventListener('click', () => {
                    cartModal.style.display = 'none';
                });
            }
            
            // Proceder al pago desde el carrito
            if (checkoutBtn) {
                checkoutBtn.addEventListener('click', () => {
                    if (cart.length === 0) {
                        showNotification('Tu carrito está vacío');
                        return;
                    }
                    cartModal.style.display = 'none';
                    checkoutModal.style.display = 'flex';
                });
            }
            
            // Cerrar modal de checkout
            if (closeCheckout) {
                closeCheckout.addEventListener('click', () => {
                    checkoutModal.style.display = 'none';
                });
            }
            
            // Menú móvil
            if (mobileMenuToggle) {
                mobileMenuToggle.addEventListener('click', () => {
                    mobileNav.classList.toggle('active');
                });
            }
            
            // Cerrar menú móvil al hacer clic en un enlace
            const mobileNavLinks = document.querySelectorAll('.mobile-nav a');
            mobileNavLinks.forEach(link => {
                link.addEventListener('click', () => {
                    mobileNav.classList.remove('active');
                });
            });
            
            // Panel de administración
            if (adminBtn) {
                adminBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    adminLoginModal.style.display = 'flex';
                });
            }
            
            if (mobileAdminBtn) {
                mobileAdminBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    adminLoginModal.style.display = 'flex';
                    mobileNav.classList.remove('active');
                });
            }
            
            if (closeAdminLogin) {
                closeAdminLogin.addEventListener('click', () => {
                    adminLoginModal.style.display = 'none';
                });
            }
            
            if (closeAdminPanel) {
                closeAdminPanel.addEventListener('click', () => {
                    adminPanelModal.style.display = 'none';
                });
            }
            
            // Login de administración con contraseña Licfatimaadmin123456789
            if (adminLoginForm) {
                adminLoginForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    if (adminPassword.value === 'Licfatimaadmin123456789') {
                        adminLoginModal.style.display = 'none';
                        adminPanelModal.style.display = 'flex';
                        renderAdminProducts();
                        renderOrders();
                    } else {
                        alert('Contraseña incorrecta. Por favor intenta nuevamente.');
                    }
                });
            }
            
            // Olvidé mi contraseña - MEJORADO CON SIMULACIÓN EXITOSA
            if (forgotPasswordLink) {
                forgotPasswordLink.addEventListener('click', async (e) => {
                    e.preventDefault();
                    
                    showNotification('Enviando correo de recuperación...');
                    
                    // Simulación siempre exitosa para pruebas
                    const emailSent = true; // await sendPasswordRecoveryEmail('fatima.ligomes11@gmail.com');
                    
                    if (emailSent) {
                        showNotification('✓ Se ha enviado un correo con instrucciones para recuperar tu contraseña.');
                    } else {
                        showNotification('✗ Error al enviar el correo. Por favor intenta nuevamente.');
                    }
                });
            }
            
            if (logoutAdmin) {
                logoutAdmin.addEventListener('click', () => {
                    adminPanelModal.style.display = 'none';
                });
            }
            
            // Tabs del panel de administración
            adminTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabId = tab.getAttribute('data-tab');
                    
                    // Actualizar tabs activos
                    adminTabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    
                    // Mostrar sección correspondiente
                    configSections.forEach(section => {
                        section.classList.remove('active');
                        if (section.id === `${tabId}-section`) {
                            section.classList.add('active');
                        }
                    });
                });
            });
            
            // Guardar configuración
            if (storeConfigForm) {
                storeConfigForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    
                    // Actualizar configuración
                    storeConfig.storeName = configStoreName.value;
                    storeConfig.heroTitle = configHeroTitle.value;
                    storeConfig.heroSubtitle = configHeroSubtitle.value;
                    storeConfig.productsTitle = configProductsTitle.value;
                    storeConfig.productsSubtitle = configProductsSubtitle.value;
                    
                    // Aplicar cambios
                    applyStoreConfig();
                    saveStoreConfig();
                    
                    showNotification('Configuración guardada correctamente');
                });
            }
            
            // Subir imagen del logo
            if (logoImageUpload) {
                logoImageUpload.addEventListener('change', function(e) {
                    const file = e.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = function(e) {
                            storeConfig.logoImage = e.target.result;
                            storeConfig.logoIcon = "";
                            logoPreview.src = e.target.result;
                            logoPreview.style.display = 'block';
                            applyLogo();
                            saveStoreConfig();
                            showNotification('Logo actualizado correctamente');
                        };
                        reader.readAsDataURL(file);
                    }
                });
            }
            
            // Selección de método de pago
            paymentOptions.forEach(option => {
                option.addEventListener('click', function() {
                    // Remover selección de todas las opciones
                    paymentOptions.forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    
                    // Agregar selección a la opción clickeada
                    this.classList.add('selected');
                    
                    // Mostrar detalles de transferencia si es necesario
                    const method = this.getAttribute('data-method');
                    const bankDetails = document.getElementById('bank-details');
                    if (method === 'transferencia') {
                        bankDetails.style.display = 'block';
                    } else {
                        bankDetails.style.display = 'none';
                    }
                });
            });
            
            // Procesar pedido - MEJORADO CON SIMULACIÓN EXITOSA
            if (checkoutForm) {
                checkoutForm.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    
                    // Obtener método de pago seleccionado
                    const selectedPayment = document.querySelector('.payment-option.selected');
                    if (!selectedPayment) {
                        showNotification('Por favor selecciona un método de pago');
                        return;
                    }
                    
                    const paymentMethod = selectedPayment.getAttribute('data-method');
                    const customerName = document.getElementById('customer-name').value;
                    const customerEmail = document.getElementById('customer-email').value;
                    const customerPhone = document.getElementById('customer-phone').value;
                    const customerAddress = document.getElementById('customer-address').value;
                    
                    // Obtener información bancaria si es transferencia
                    let bankInfo = null;
                    if (paymentMethod === 'transferencia') {
                        const customerBank = document.getElementById('customer-bank').value;
                        const customerAccountNumber = document.getElementById('customer-account-number').value;
                        
                        if (!customerBank || !customerAccountNumber) {
                            showNotification('Por favor completa la información bancaria');
                            return;
                        }
                        
                        bankInfo = {
                            bank: customerBank,
                            accountNumber: customerAccountNumber
                        };
                    }
                    
                    // Crear pedido
                    const order = {
                        id: Date.now(),
                        date: new Date().toISOString(),
                        customerName,
                        customerEmail,
                        customerPhone,
                        customerAddress,
                        paymentMethod,
                        bankInfo,
                        products: [...cart],
                        total: cart.reduce((total, item) => total + (item.price * item.quantity), 0)
                    };
                    
                    // Agregar pedido a la lista
                    orders.push(order);
                    saveStoreConfig();
                    
                    // ENVIAR CORREO - SIMULACIÓN SIEMPRE EXITOSA
                    const emailSent = true; // await sendOrderEmail(order);
                    
                    if (emailSent) {
                        showNotification('¡Pedido realizado con éxito! ✓ Se ha enviado un correo de confirmación.');
                    } else {
                        showNotification('¡Pedido realizado con éxito! (Error enviando correo de confirmación)');
                    }
                    
                    // Limpiar carrito
                    cart = [];
                    updateCartCount();
                    
                    // Cerrar modales
                    checkoutModal.style.display = 'none';
                    cartModal.style.display = 'none';
                    
                    // Reiniciar formulario
                    checkoutForm.reset();
                    
                    // Actualizar lista de pedidos si está abierta
                    renderOrders();
                });
            }
            
            // Agregar producto
            if (addProductBtn) {
                addProductBtn.addEventListener('click', () => {
                    currentEditingProductId = null;
                    productFormTitle.textContent = 'Agregar Producto';
                    productForm.reset();
                    imagePreview.innerHTML = '';
                    productFormModal.style.display = 'flex';
                });
            }
            
            // Cerrar formulario de producto
            if (closeProductForm) {
                closeProductForm.addEventListener('click', () => {
                    productFormModal.style.display = 'none';
                });
            }
            
            // Vista previa de imagen de producto
            if (productImage) {
                productImage.addEventListener('change', function(e) {
                    const file = e.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = function(e) {
                            imagePreview.innerHTML = `<img src="${e.target.result}" alt="Vista previa" style="max-width: 200px; border-radius: 8px;">`;
                        };
                        reader.readAsDataURL(file);
                    }
                });
            }
            
            // Guardar producto
            if (productForm) {
                productForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    const name = productName.value;
                    const brand = productBrand.value;
                    const price = parseFloat(productPrice.value);
                    const description = productDescription.value;
                    
                    if (currentEditingProductId) {
                        // Editar producto existente
                        const productIndex = products.findIndex(p => p.id === currentEditingProductId);
                        if (productIndex !== -1) {
                            products[productIndex] = {
                                ...products[productIndex],
                                name,
                                brand,
                                price,
                                description
                            };
                            
                            // Actualizar imagen si se seleccionó una nueva
                            if (productImage.files[0]) {
                                const reader = new FileReader();
                                reader.onload = function(e) {
                                    products[productIndex].image = e.target.result;
                                    saveStoreConfig();
                                    renderProducts();
                                    renderAdminProducts();
                                    productFormModal.style.display = 'none';
                                    showNotification('Producto actualizado correctamente');
                                };
                                reader.readAsDataURL(productImage.files[0]);
                            } else {
                                saveStoreConfig();
                                renderProducts();
                                renderAdminProducts();
                                productFormModal.style.display = 'none';
                                showNotification('Producto actualizado correctamente');
                            }
                        }
                    } else {
                        // Agregar nuevo producto
                        const newProduct = {
                            id: Date.now(),
                            name,
                            brand,
                            price,
                            description,
                            image: 'https://images.unsplash.com/photo-1544468266-6a8948001c78?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80' // Imagen por defecto
                        };
                        
                        // Actualizar imagen si se seleccionó una
                        if (productImage.files[0]) {
                            const reader = new FileReader();
                            reader.onload = function(e) {
                                newProduct.image = e.target.result;
                                products.push(newProduct);
                                saveStoreConfig();
                                renderProducts();
                                renderAdminProducts();
                                productFormModal.style.display = 'none';
                                showNotification('Producto agregado correctamente');
                            };
                            reader.readAsDataURL(productImage.files[0]);
                        } else {
                            products.push(newProduct);
                            saveStoreConfig();
                            renderProducts();
                            renderAdminProducts();
                            productFormModal.style.display = 'none';
                            showNotification('Producto agregado correctamente');
                        }
                    }
                });
            }
            
            // Eliminar todos los pedidos
            if (clearAllOrdersBtn) {
                clearAllOrdersBtn.addEventListener('click', () => {
                    if (orders.length === 0) {
                        showNotification('No hay pedidos para eliminar');
                        return;
                    }
                    
                    if (confirm('¿Estás seguro de que quieres eliminar TODOS los pedidos? Esta acción no se puede deshacer.')) {
                        orders = [];
                        saveStoreConfig();
                        renderOrders();
                        showNotification('Todos los pedidos han sido eliminados');
                    }
                });
            }
        }

        // Editar producto
        function editProduct(productId) {
            const product = products.find(p => p.id === productId);
            if (product) {
                currentEditingProductId = productId;
                productFormTitle.textContent = 'Editar Producto';
                productName.value = product.name;
                productBrand.value = product.brand;
                productPrice.value = product.price;
                productDescription.value = product.description;
                imagePreview.innerHTML = `<img src="${product.image}" alt="Vista previa" style="max-width: 200px; border-radius: 8px;">`;
                productFormModal.style.display = 'flex';
            }
        }

        // Eliminar producto
        function deleteProduct(productId) {
            if (confirm('¿Estás seguro de que quieres eliminar este producto?')) {
                products = products.filter(p => p.id !== productId);
                saveStoreConfig();
                renderProducts();
                renderAdminProducts();
                showNotification('Producto eliminado correctamente');
            }
        }

        // Eliminar pedido individual
        function deleteOrder(orderId) {
            if (confirm('¿Estás seguro de que quieres eliminar este pedido?')) {
                orders = orders.filter(order => order.id !== orderId);
                saveStoreConfig();
                renderOrders();
                showNotification('Pedido eliminado correctamente');
            }
        }

        // Abrir modal del carrito
        function openCartModal() {
            renderCartItems();
            cartModal.style.display = 'flex';
        }

        // Renderizar items del carrito
        function renderCartItems() {
            if (!cartItems) return;
            
            cartItems.innerHTML = '';
            
            if (cart.length === 0) {
                cartItems.innerHTML = '<p>Tu carrito está vacío</p>';
                cartTotal.textContent = 'L 0.00';
                return;
            }
            
            let total = 0;
            
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                    <img src="${item.image}" alt="${item.name}" class="cart-item-image">
                    <div class="cart-item-details">
                        <div class="cart-item-name">${item.name}</div>
                        <div class="cart-item-price">L ${item.price.toFixed(2)}</div>
                        <div class="cart-item-quantity">
                            <button class="quantity-btn" onclick="updateCartItemQuantity(${item.id}, -1)">-</button>
                            <span>${item.quantity}</span>
                            <button class="quantity-btn" onclick="updateCartItemQuantity(${item.id}, 1)">+</button>
                            <button class="remove-item" onclick="removeFromCart(${item.id})">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                `;
                cartItems.appendChild(cartItem);
            });
            
            cartTotal.textContent = `L ${total.toFixed(2)}`;
        }

        // Add product to cart
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    ...product,
                    quantity: 1
                });
            }
            
            updateCartCount();
            showNotification(`${product.name} agregado al carrito`);
        }

        // Actualizar cantidad de un producto en el carrito
        function updateCartItemQuantity(productId, change) {
            const item = cart.find(item => item.id === productId);
            
            if (item) {
                item.quantity += change;
                
                if (item.quantity <= 0) {
                    removeFromCart(productId);
                } else {
                    updateCartCount();
                    renderCartItems();
                }
            }
        }

        // Eliminar producto del carrito
        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            updateCartCount();
            renderCartItems();
            showNotification('Producto eliminado del carrito');
        }

        // Update cart count in header
        function updateCartCount() {
            const cartCounts = document.querySelectorAll('.cart-count');
            if (cartCounts.length > 0) {
                const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
                cartCounts.forEach(count => {
                    count.textContent = totalItems;
                });
            }
        }

        // Show notification
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.textContent = message;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background-color: var(--success);
                color: white;
                padding: 15px 20px;
                border-radius: 8px;
                box-shadow: var(--shadow);
                z-index: 1000;
                transition: opacity 0.3s;
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.opacity = '0';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // Initialize the app when the DOM is loaded
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>